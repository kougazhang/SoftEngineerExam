# 03 计算机结构

## 3.1 计算机结构

计算机结构中的主机只包括两部分:

+ CPU
  + 运算器
  + 控制器
+ 内存 (又称为主存储器)

### 考点: CPU 运算器和控制器的构成

#### 运算器

运算器的组成部分: (算术逻辑单元和计算相关的寄存器)

+ 算术逻辑单元 ALU (Arithmetic and Logic Unit)
  + 与门( And Gate)
  + 或门(Or Gate)
+ 累加寄存器 AC. 当运算器的算术逻辑单元 (ALU) 执行算术或逻辑运算时, 为 ALU 提供一个工作区. 累加寄存器暂时存放 ALU 运算的结果信息.
+ 数据缓冲寄存器 DR (Data Register). 数据缓冲寄存器用来暂存存储器读取的一条指令或一个数据字.
+ **状态条件寄存器 PSW (Program Status Word)**. 状态条件寄存器保存由算术指令和逻辑指针运行的结果建立的各种条件码内容, 如运算结果进位标志(C), 运算结果溢出标志(V), 运算结果为零标志(Z), 运算结果为负标志(N), 中断标志(I), 方向标志(D) 和单步标识等. 这些标识符通常由 1 位触发器保存, 保存了当前指令完成之后的状态.

#### 控制器

控制器的组成:

+ 程序计数器. 
+ 指令寄存器 PC
+ 指令译码器 IR
+ 时序部件

程序计数器 Program Counter, 也是寄存器, 用于存放下一条指令所在单元的地址. 当执行一条指令时, 首先根据 PC 中存放的指令地址, 将指令由内存取到**指令寄存器**, 此过程称为 "取指令". 与此同时, PC 中的地址或自动加 1 或由转移指针给出下一条指令的地址. 每个指令被获取时, 程序计数器的内存地址加 1.

指令译码器: 译码器把输入二进制代码翻译成输出信号, 以表示原来的电路. 根据需要, 输出信号可以是脉冲, 也可以是高电平或低电平.

时序部件: 时序部件主要和程序时钟有关, 时钟会产生周期信号控制 CPU 运行.

## 3.1 计算机体系结构分类- Flynn 分类法

### 考察方式

体系结构类型对应的特征, 关键特性和代表

### Flynn 分类法

Flynn 分类法按照指令和数据流 2 个维度进行穷举, 一共可以分为 4 种情况:

| 体系结构类型          | 结构                                                   | 关键特性 | 代表                                 |
| --------------------- | ------------------------------------------------------ | -------- | ------------------------------------ |
| 单指令流单数据流 SISD | 控制部分: 1个<br />处理器: 1个<br />主存模块: 1 个     |          | 单处理器系统, 单片机                 |
| 单指令流多数据流 SIMD | 控制部分: 1个<br />处理器:  多个<br />主存模块: 多个   |          | 阵列处理机是典型代表<br />超级计算机 |
| 多指令流单数据流 MISD | 控制部分: 多个<br />处理器:   1个<br />主存模块: 多个  | 不实际   | 理论模型                             |
| 多指令流多数据流 MIMD | 控制部分: 多个<br />处理器:   多个<br />主存模块: 多个 |          | 现在使用的计算机                     |

*缩写字母含义*

+ S, Single
+ I, Instruction
+ D, Data
+ M, Multiple

## 3.2 CISC 与 RISC

### 考察方式

掌握 CISC 与 RISC 两种指令类型的区别比较

### CISC 与 RISC

理解 CISC 与 RISC 需要两点前置知识:

+ 计算机执行每个指令类型都需要额外的晶体管和电路元件, 计算机的指令集越大就越会使微处理更复杂, 执行操作越慢. (所以指令越复杂, 计算机的体积越大)
+ 研究表明, 计算机中越 20% 的指令承担了 80% 的工作. (所以指令可以精简.)

单词缩写:

+ CISC, Complex Instruction Set Computer
+ RISC, Reduced Instruction Set Computer

| 指令系统类型 | 指令                                                         | 寻址方式   | 实现方式                                                     | 其他                       | 代表                 |
| ------------ | ------------------------------------------------------------ | ---------- | ------------------------------------------------------------ | -------------------------- | -------------------- |
| CISC (复杂)  | 数量多, 使用频率差别大, 可变长格式(指令的长度可变)           | 支持多种   | 微程序控制技术(微码)                                         | 研发周期长                 | 早期的大型计算机     |
| RISC (精简)  | 数量少, 使用频率接近, 定长格式, 大部分为单周期指令, 操作寄存器, 只有 Load/ Store 操作内存 | 支持方式少 | 增加了通用寄存器;<br />硬布线逻辑控制为主;<br />适合采用流水线 | 优化编译, 有效支持高级语言 | 家用计算机, 笔记本等 |

为什么 RISC 需要操作寄存器?

因为 RISC 的指令个数少 所以同样的运算 RISC 运算时需要的指令个数比 CISC 多, 所以需要寄存器来提高运算速度.

寻址方式为什么 CISC 多?

计算机指令本来就是让计算机执行各种操作的,  CISC 支持的指令集更丰富, 所以 CISC 的寻址方式多.

为什么 RISC 能有效支持高级语言?

因为 RISC 的指令集少, 高级语言容易翻译成 RISC.